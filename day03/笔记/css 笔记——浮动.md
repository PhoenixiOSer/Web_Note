# CSS笔记——浮动

 ## 1.1 传统网页布局的三种方式
 
 网页布局的本职——用 CSS 来摆放盒子，把盒子放到相应的位置。
 CSS 提供了三种传统布局方式（简单将就是盒子如何进行排列顺序）：
 1. 标准流（普通流）
 2. 浮动
 3. 定位

## 1.2 标准流（普通流）

标准流： 就是标签按照规定号默认方式排列。

1. 块内元素独占一行，从上向下顺序排列
 - 常用元素： `div、 hr、 p、h1~h6、ul、ol、dl、form、table`
2. 行内元素会按照顺序，从左到右排列，碰到父元素的边缘会自动换行。
 - 常用元素： `span、a、i、em` 等

实际开发中，一个页面基本都包含三种布局方式（移动端布局需新的布局方式）。


## 1.3 为什么需要浮动

有很多的网页布局效果，标准流没有办法完成，此时就可以利用浮动完成布局。因为浮动可以改变元素标签默认的排列方式。

浮动最典型的应用： 可以让多个块级元素一行内排列显示。

网页布局第一准则： **多个块级元素纵向排列找标准流，多个块级元素横向排列找浮动**

## 1.4 什么是浮动

`float` 属性用于创建浮动框，将其移动到一遍，左边缘或右边缘触及包含块或另一个浮动框的边缘。

语法：

```
选择器 {
    float: 属性值; 
}
```


  | 值    | 描述               |
  | ----- | ------------------ |
  | none  | 元素不浮动（默认） |
  | left  | 元素向左浮动       |
  | right | 元素向右浮动       |

## 1.5浮动的特性（重难点）

加了浮动之后的元素，会具有很多特性，需要我们掌握的：
1. 浮动元素会脱离标准流（脱标）
    - 脱离标准路的控制移动，移动到指定位置
    - 浮动的盒子不在保留原先的位置    
2. 浮动的元素会一行内显示并且元素顶部对齐,如果一行内无法容纳所有元素则会另起一行排列 
3. 浮动元素会具有行内块元素的特性
    - 如果块级盒子没有设置宽度，默认宽度和父级宽度一样，但是添加浮动后，它的大小根据内容决定
    - 浮动的盒子中间没有间隙，是紧挨着一起的
  

行内元素无法直接指定宽高，但是如果指定了浮动可以不需要转换位块级元素、行内块元素就可以设置宽高了。

## 1.6 浮动元素经常和标准流父级搭配使用

为了约束浮动元素位置，我们网页布局一般采取的策略时：
先用标准流父级元素排列上下位置，之后内部子元素采取浮动排列左右位置，符合网页布局第一准则。

# 2. 常见网页布局

## 2.1 常见网页布局

1. 标准流
2. 标准流嵌套浮动
3. 标准流嵌套多中形态浮动


## 2.2  浮动布局的注意点

1. 浮动和标准流的父盒子搭配，先用标准流的父元素排列上下位置，之后在父元素内部使用浮动元素排列左右位置。
2. 一个元素的浮动了，理论上兄弟元素也应该都要浮动，浮动盒子只会影响后面的标准流不会影响前面的标准流。


# 3 清除浮动

## 3.1 为什么需要清除浮动

浮动元素的父元素在很多情况下我们无法确定父元素的高度（如 文章详情页无法预知文章的长度、下滑加载更多时父元素高度动态变化），所以希望由子元素来计算父元素的高度。

理想的状态是让子元素撑开父元素的高度，但盒子浮动不会占有位置，导致最后父盒子高度为0.

## 3.2 清除浮动本质

- 就是清除浮动元素造成的影响
- 如何父盒子有高度，则不需要清除浮动
- 清除浮动之后，父级会根据浮动的子盒子自动检测高度，父级有了高度就不会影响下面的标准流了

语法：

```
选择器 {clear: 属性值;}
```

  | 属性值                         | 描述                 |
  | ------------------------------ | -------------------- |
  | left                           | 清除左侧有浮动元素   |
  | right                          | 清除右侧浮动元素     |
  | both（实际工作中几乎只用both） | 同时清除两侧浮动元素 |

清除浮动的策略是：闭合浮动

## 3.3 清除浮动方法

1. 额外标签法也称为隔墙发，是W3C推荐的做法
2. 父级添加 overflow 属性
3. 父级添加 after 伪元素
4. 父级添加双伪元素


### 3.3.1 额外标签法
 
 额外标签法会在浮动元素的末尾新增一个空的标签，例如`<div style="clear: both;"></div>`，或者其它标签（如`<br/>`等）。

- 优点： 通俗易懂，书写方便
- 缺点： 添加许多无意义的标签，结构化较差

注意添加的必须是块元素，不能是行内元素。

### 3.3.2 父级添加overflow

可以给父级添加 overflow 属性，将其属性值设置为`hidden 、auto 或scroll`

- 优点：代码简洁
- 缺点：无法显示溢出部分

### 3.3.3 :after 伪元素法

`:after` 方法时额外标签法的升级版本，是给父元素添加.

```
.clearfix:after {
    content:"";
    display: block;
    height: 0;
    clear: both;
    visibility: hidden;
}

/* IE 6/7 专有 */
.clearfix { 
    *zoom: 1;
}
```

- 优点： 没有新增标签，结构简单
- 缺点：照顾低版本浏览器

### 3.3.4 双伪元素法
前后闭合，同`:afer`伪元素法类似

语法：
```
.clearfix:before, .clearfix:after {
    content:"";
    display: table;
}

.clearfix:after {
    clear: both;
}
/* IE 6/7 专有 */
.clearfix { 
    *zoom: 1;
}
```

- 优点： 代码简洁
- 缺点：照顾低版本浏览器

## 3.4 清除浮动总结

为什么需要清除浮动？

- 父级没高度时
- 子盒子浮动了
- 影响下面元素的布局


  | 清除浮动方式        | 优点               | 缺点                                |
  | ------------------- | ------------------ | ----------------------------------- |
  | 额外标签法          | 通俗易懂，书写方便 | 添加无意义标签，结构化较差          |
  | 父级overflow:hidden | 书写方便           | 溢出内容无法显示                    |
  | 父级after伪元素     | 结构语义化正确     | IE6-7不支持:after，兼容性问题       |
  | 父级双伪元素        | 结构语义化正确     | IE6-7不支持不支持:after，兼容性问题 |